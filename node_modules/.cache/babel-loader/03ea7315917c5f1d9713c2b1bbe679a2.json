{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041C\\u0438\\u0445\\u0430\\u0438\\u043B\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\Profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport '../Profile/Profile.css';\nimport Header from '../Header/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile(props) {\n  _s();\n\n  const currentUser = useContext(CurrentUserContext);\n  const [readOnly, setReadOnly] = useState(true);\n  const [nameProfile, setNameProfile] = useState(\"\");\n  const [emailProfile, setEmailProfile] = useState(\"\");\n  const [dataDirty, setDataDirty] = useState(false);\n  const [dataError, setDataError] = useState(\"Что-то пошло не так. Имя не должно быть пустым или некорректный Email\");\n  const [formValid, setFormValid] = useState(false);\n  const disabledBtn = currentUser.email === emailProfile && currentUser.name === nameProfile;\n  const edit = \"Редактировать\";\n  const save = \"Сохранить\";\n  useEffect(() => {\n    setReadOnly(true);\n  }, []);\n  useEffect(() => {\n    if (dataError) {\n      setFormValid(false);\n    } else {\n      setFormValid(true);\n    }\n  }, [dataError]);\n  useEffect(() => {\n    setNameProfile(currentUser.name);\n    setEmailProfile(currentUser.email);\n  }, [currentUser]);\n\n  function handleClickEdit(e) {\n    e.preventDefault();\n    setReadOnly(false);\n  }\n\n  function handleChangeName(e) {\n    setNameProfile(e.target.value);\n\n    if (!e.target.validity.valid && e.target.value.length < 3 || e.target.value.length > 20) {\n      setDataError(\"Что-то пошло не так. Имя не должно быть пустым или некорректный Email\");\n\n      if (!e.target.value) {\n        setDataError(\"Имя не может быть пустым\");\n      }\n    } else {\n      setDataError(\"\");\n    }\n  }\n\n  function handleChangeEmail(e) {\n    setEmailProfile(e.target.value);\n\n    if (!String(e.target.value).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) {\n      setDataError(\"Что-то пошло не так. Имя не должно быть пустым или некорректный Email\");\n\n      if (!e.target.value) {\n        setDataError(\"Email не может быть пустым\");\n      }\n    } else {\n      setDataError(\"\");\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: nameProfile,\n      email: emailProfile\n    });\n    setReadOnly(true);\n  }\n\n  function blurHandler(e) {\n    switch (e.target.name) {\n      case \"nameprofile\":\n        setDataDirty(true);\n        break;\n\n      case \"emailprofile\":\n        setDataDirty(true);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"profile__greeting\",\n        children: \"\\u041F\\u0440\\u0438\\u0432\\u0435\\u0442, \\u0412\\u0438\\u0442\\u0430\\u043B\\u0438\\u0439!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile__box-profile-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__profile-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"profile__info\",\n            children: \"\\u0418\\u043C\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"profile__info\",\n            children: \"\\u0412\\u0438\\u0442\\u0430\\u043B\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"profile__line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile__profile-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"profile__info\",\n            children: \"E-mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"profile__info\",\n            children: \"pochta@yandex.ru\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button profile__button-edit\",\n        children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button profile__button-exit\",\n        children: \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Profile, \"Qf9dM4jS0EHE4x6M+ehRO31LJRc=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["Header","Profile","props","currentUser","useContext","CurrentUserContext","readOnly","setReadOnly","useState","nameProfile","setNameProfile","emailProfile","setEmailProfile","dataDirty","setDataDirty","dataError","setDataError","formValid","setFormValid","disabledBtn","email","name","edit","save","useEffect","handleClickEdit","e","preventDefault","handleChangeName","target","value","validity","valid","length","handleChangeEmail","String","toLowerCase","match","handleSubmit","onUpdateUser","blurHandler"],"sources":["C:/Users/Михаил/dev/movies-explorer-frontend/src/components/Profile/Profile.js"],"sourcesContent":["import '../Profile/Profile.css';\r\nimport Header from '../Header/Header';\r\n\r\n\r\nfunction Profile(props) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const [readOnly, setReadOnly] = useState(true);\r\n  const [nameProfile, setNameProfile] = useState(\"\");\r\n  const [emailProfile, setEmailProfile] = useState(\"\");\r\n  const [dataDirty, setDataDirty] = useState(false);\r\n  const [dataError, setDataError] = useState(\r\n    \"Что-то пошло не так. Имя не должно быть пустым или некорректный Email\"\r\n  );\r\n\r\n  const [formValid, setFormValid] = useState(false);\r\n  const disabledBtn =\r\n    currentUser.email === emailProfile && currentUser.name === nameProfile;\r\n  const edit = \"Редактировать\";\r\n  const save = \"Сохранить\";\r\n\r\n  useEffect(() => {\r\n    setReadOnly(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (dataError) {\r\n      setFormValid(false);\r\n    } else {\r\n      setFormValid(true);\r\n    }\r\n  }, [dataError]);\r\n\r\n  useEffect(() => {\r\n    setNameProfile(currentUser.name);\r\n    setEmailProfile(currentUser.email);\r\n  }, [currentUser]);\r\n\r\n  function handleClickEdit(e) {\r\n    e.preventDefault();\r\n    setReadOnly(false);\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setNameProfile(e.target.value);\r\n    if (\r\n      (!e.target.validity.valid && e.target.value.length < 3) ||\r\n      e.target.value.length > 20\r\n    ) {\r\n      setDataError(\r\n        \"Что-то пошло не так. Имя не должно быть пустым или некорректный Email\"\r\n      );\r\n      if (!e.target.value) {\r\n        setDataError(\"Имя не может быть пустым\");\r\n      }\r\n    } else {\r\n      setDataError(\"\");\r\n    }\r\n  }\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmailProfile(e.target.value);\r\n    if (\r\n      !String(e.target.value)\r\n        .toLowerCase()\r\n        .match(\r\n          /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n        )\r\n    ) {\r\n      setDataError(\r\n        \"Что-то пошло не так. Имя не должно быть пустым или некорректный Email\"\r\n      );\r\n      if (!e.target.value) {\r\n        setDataError(\"Email не может быть пустым\");\r\n      }\r\n    } else {\r\n      setDataError(\"\");\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: nameProfile,\r\n      email: emailProfile,\r\n    });\r\n    setReadOnly(true);\r\n  }\r\n\r\n  function blurHandler(e) {\r\n    switch (e.target.name) {\r\n      case \"nameprofile\":\r\n        setDataDirty(true);\r\n        break;\r\n      case \"emailprofile\":\r\n        setDataDirty(true);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n    return (\r\n      <div className='profile'>\r\n        <Header />\r\n        <section>\r\n        <p className='profile__greeting'>Привет, Виталий!</p>\r\n        <div className='profile__box-profile-info'>\r\n            <div className='profile__profile-info'>\r\n                <input className='profile__info'>Имя</input>\r\n                <input className='profile__info'>Виталий</input>\r\n            </div>\r\n            <hr className='profile__line' />\r\n            <div className='profile__profile-info'>\r\n                <input className='profile__info'>E-mail</input>\r\n                <input className='profile__info'>pochta@yandex.ru</input>\r\n            </div>\r\n        </div>\r\n        <button className='button profile__button-edit'>Редактировать</button>\r\n        <button className='button profile__button-exit'>Выйти из аккаунта</button>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module"}