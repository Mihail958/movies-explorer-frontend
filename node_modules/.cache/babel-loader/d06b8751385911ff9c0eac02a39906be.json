{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u041C\\u0438\\u0445\\u0430\\u0438\\u043B/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../SearchForm/SearchForm.css';import React,{useState}from'react';import FilterCheckbox from\"../FilterCheckbox/FilterCheckbox\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchForm(props){var _useState=useState(props.valueSearch||\"\"),_useState2=_slicedToArray(_useState,2),searchFilmValue=_useState2[0],setSearchFilmValue=_useState2[1];var _useState3=useState(\"Нужно ввести ключевое слово\"),_useState4=_slicedToArray(_useState3,2),searchFilmError=_useState4[0],setSearchFilmError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),searchFilmDirty=_useState6[0],setSearchFilmDirty=_useState6[1];function handleChangeSearchFilm(e){e.preventDefault();localStorage.setItem(\"moviesSearchValue\",JSON.stringify(e.target.value));setSearchFilmValue(JSON.parse(localStorage.getItem(\"moviesSearchValue\")));if(!e.target.validity.valid&&e.target.value.length===0){setSearchFilmError(\"Нужно ввести ключевое слово\");}else{setSearchFilmError(\"\");}}function handleEnter(event){event.preventDefault();props.enterHandler(searchFilmValue);}function blurHandler(e){switch(e.target.name){case\"searchmovie\":setSearchFilmDirty(true);break;default:break;}}return/*#__PURE__*/_jsxs(\"form\",{className:\"searchForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchForm__box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"movie\",className:\"searchForm__input\",placeholder:\"\\u0424\\u0438\\u043B\\u044C\\u043C\",onChange:handleChangeSearchFilm,value:searchFilmValue||\"\",onKeyUp:searchFilmValue?null:handleEnter,onBlur:blurHandler,required:true}),searchFilmDirty&&searchFilmError&&/*#__PURE__*/_jsx(\"div\",{className:\"\",children:searchFilmError}),/*#__PURE__*/_jsx(\"button\",{className:\"button searchForm__search-button\",type:\"submit\",onClick:handleEnter})]}),props.pathMovies&&/*#__PURE__*/_jsx(FilterCheckbox,{checkShort:props.checkShortFilms,onChecked:props.onCheckedFilms}),props.pathMoviesSave&&/*#__PURE__*/_jsx(FilterCheckbox,{checkShort:props.checkShortFilmsSave,onChecked:props.onCheckedSaveFilms}),/*#__PURE__*/_jsx(\"hr\",{className:\"searchForm__line\"})]});}export default SearchForm;","map":{"version":3,"names":["React","useState","FilterCheckbox","SearchForm","props","valueSearch","searchFilmValue","setSearchFilmValue","searchFilmError","setSearchFilmError","searchFilmDirty","setSearchFilmDirty","handleChangeSearchFilm","e","preventDefault","localStorage","setItem","JSON","stringify","target","value","parse","getItem","validity","valid","length","handleEnter","event","enterHandler","blurHandler","name","pathMovies","checkShortFilms","onCheckedFilms","pathMoviesSave","checkShortFilmsSave","onCheckedSaveFilms"],"sources":["C:/Users/Михаил/dev/movies-explorer-frontend/src/components/SearchForm/SearchForm.js"],"sourcesContent":["import '../SearchForm/SearchForm.css';\r\nimport React, { useState } from 'react';\r\nimport FilterCheckbox from \"../FilterCheckbox/FilterCheckbox\";\r\n\r\nfunction SearchForm(props) {\r\n     \r\n     const [searchFilmValue, setSearchFilmValue] = useState(\r\n          props.valueSearch || \"\"\r\n        );\r\n        const [searchFilmError, setSearchFilmError] = useState(\r\n          \"Нужно ввести ключевое слово\"\r\n        );\r\n      \r\n        const [searchFilmDirty, setSearchFilmDirty] = useState(false);\r\n\r\n      \r\n        function handleChangeSearchFilm(e) {\r\n          e.preventDefault();\r\n          localStorage.setItem(\"moviesSearchValue\", JSON.stringify(e.target.value));\r\n          setSearchFilmValue(JSON.parse(localStorage.getItem(\"moviesSearchValue\")));\r\n      \r\n          if (!e.target.validity.valid && e.target.value.length === 0) {\r\n            setSearchFilmError(\"Нужно ввести ключевое слово\");\r\n          } else {\r\n            setSearchFilmError(\"\");\r\n          }\r\n        }\r\n      \r\n        function handleEnter(event) {\r\n          event.preventDefault();\r\n          props.enterHandler(searchFilmValue);\r\n        }\r\n      \r\n        function blurHandler(e) {\r\n          switch (e.target.name) {\r\n            case \"searchmovie\":\r\n              setSearchFilmDirty(true);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n     \r\n    return (\r\n      <form className=\"searchForm\">\r\n        <div className=\"searchForm__box\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"movie\"\r\n            className=\"searchForm__input\"\r\n            placeholder=\"Фильм\"\r\n            onChange={handleChangeSearchFilm}\r\n            value={searchFilmValue || \"\"}\r\n            onKeyUp={searchFilmValue ? null : handleEnter}\r\n            onBlur={blurHandler}\r\n            required\r\n          />\r\n          {searchFilmDirty && searchFilmError && (\r\n            <div className=\"\">{searchFilmError}</div>\r\n          )}\r\n          <button\r\n            className=\"button searchForm__search-button\"\r\n            type=\"submit\"\r\n            onClick={handleEnter}\r\n          />\r\n        </div>\r\n        {props.pathMovies && (\r\n          <FilterCheckbox\r\n            checkShort={props.checkShortFilms}\r\n            onChecked={props.onCheckedFilms}\r\n          />\r\n        )}\r\n        {props.pathMoviesSave && (\r\n          <FilterCheckbox\r\n            checkShort={props.checkShortFilmsSave}\r\n            onChecked={props.onCheckedSaveFilms}\r\n          />\r\n        )}\r\n        <hr className=\"searchForm__line\" />\r\n      </form>\r\n    );\r\n  }\r\n\r\nexport default SearchForm;"],"mappings":"gKAAA,MAAO,8BAAP,CACA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,eAAP,KAA2B,kCAA3B,C,wFAEA,QAASC,WAAT,CAAoBC,KAApB,CAA2B,CAEtB,cAA8CH,QAAQ,CACjDG,KAAK,CAACC,WAAN,EAAqB,EAD4B,CAAtD,wCAAOC,eAAP,eAAwBC,kBAAxB,eAGG,eAA8CN,QAAQ,CACpD,6BADoD,CAAtD,yCAAOO,eAAP,eAAwBC,kBAAxB,eAIA,eAA8CR,QAAQ,CAAC,KAAD,CAAtD,yCAAOS,eAAP,eAAwBC,kBAAxB,eAGA,QAASC,uBAAT,CAAgCC,CAAhC,CAAmC,CACjCA,CAAC,CAACC,cAAF,GACAC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAA0CC,IAAI,CAACC,SAAL,CAAeL,CAAC,CAACM,MAAF,CAASC,KAAxB,CAA1C,EACAb,kBAAkB,CAACU,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,mBAArB,CAAX,CAAD,CAAlB,CAEA,GAAI,CAACT,CAAC,CAACM,MAAF,CAASI,QAAT,CAAkBC,KAAnB,EAA4BX,CAAC,CAACM,MAAF,CAASC,KAAT,CAAeK,MAAf,GAA0B,CAA1D,CAA6D,CAC3DhB,kBAAkB,CAAC,6BAAD,CAAlB,CACD,CAFD,IAEO,CACLA,kBAAkB,CAAC,EAAD,CAAlB,CACD,CACF,CAED,QAASiB,YAAT,CAAqBC,KAArB,CAA4B,CAC1BA,KAAK,CAACb,cAAN,GACAV,KAAK,CAACwB,YAAN,CAAmBtB,eAAnB,EACD,CAED,QAASuB,YAAT,CAAqBhB,CAArB,CAAwB,CACtB,OAAQA,CAAC,CAACM,MAAF,CAASW,IAAjB,EACE,IAAK,aAAL,CACEnB,kBAAkB,CAAC,IAAD,CAAlB,CACA,MACF,QACE,MALJ,CAOD,CAEL,mBACE,cAAM,SAAS,CAAC,YAAhB,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,OAFL,CAGE,SAAS,CAAC,mBAHZ,CAIE,WAAW,CAAC,gCAJd,CAKE,QAAQ,CAAEC,sBALZ,CAME,KAAK,CAAEN,eAAe,EAAI,EAN5B,CAOE,OAAO,CAAEA,eAAe,CAAG,IAAH,CAAUoB,WAPpC,CAQE,MAAM,CAAEG,WARV,CASE,QAAQ,KATV,EADF,CAYGnB,eAAe,EAAIF,eAAnB,eACC,YAAK,SAAS,CAAC,EAAf,UAAmBA,eAAnB,EAbJ,cAeE,eACE,SAAS,CAAC,kCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEkB,WAHX,EAfF,GADF,CAsBGtB,KAAK,CAAC2B,UAAN,eACC,KAAC,cAAD,EACE,UAAU,CAAE3B,KAAK,CAAC4B,eADpB,CAEE,SAAS,CAAE5B,KAAK,CAAC6B,cAFnB,EAvBJ,CA4BG7B,KAAK,CAAC8B,cAAN,eACC,KAAC,cAAD,EACE,UAAU,CAAE9B,KAAK,CAAC+B,mBADpB,CAEE,SAAS,CAAE/B,KAAK,CAACgC,kBAFnB,EA7BJ,cAkCE,WAAI,SAAS,CAAC,kBAAd,EAlCF,GADF,CAsCD,CAEH,cAAejC,WAAf"},"metadata":{},"sourceType":"module"}