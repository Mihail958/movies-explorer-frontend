{"ast":null,"code":"import _classCallCheck from\"C:/Users/\\u041C\\u0438\\u0445\\u0430\\u0438\\u043B/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u041C\\u0438\\u0445\\u0430\\u0438\\u043B/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var MoviesApi=/*#__PURE__*/function(){function MoviesApi(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,MoviesApi);this._baseUrl=baseUrl;this._headers=headers;}_createClass(MoviesApi,[{key:\"_checkServerResponse\",value:function _checkServerResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A. \\u041E\\u0431\\u0440\\u0430\\u0442\\u0438\\u0442\\u0435\\u0441\\u044C \\u043A \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u0447\\u0438\\u043A\\u0443\");}},{key:\"getMovies\",value:function getMovies(){var _this=this;return fetch(this._baseUrl,{headers:this._headers}).then(function(res){return _this._checkServerResponse(res);});}}]);return MoviesApi;}();var moviesApi=new MoviesApi({baseUrl:\"https://api.nomoreparties.co/beatfilm-movies\",headers:{\"Content-Type\":\"application/json\"}});export default moviesApi;","map":{"version":3,"names":["MoviesApi","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","fetch","then","_checkServerResponse","moviesApi"],"sources":["C:/Users/Михаил/dev/movies-explorer-frontend/src/utils/MoviesApi.js"],"sourcesContent":["class MoviesApi {\r\n    constructor({ baseUrl, headers }) {\r\n      this._baseUrl = baseUrl;\r\n      this._headers = headers;\r\n    }\r\n  \r\n    _checkServerResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Что-то пошло не так. Обратитесь к разработчику`);\r\n    }\r\n  \r\n    getMovies() {\r\n      return fetch(this._baseUrl, {\r\n        headers: this._headers,\r\n      }).then((res) => this._checkServerResponse(res));\r\n    }\r\n  }\r\n  \r\n  const moviesApi = new MoviesApi({\r\n    baseUrl: \"https://api.nomoreparties.co/beatfilm-movies\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n\r\n  export default moviesApi;"],"mappings":"iUAAMA,U,yBACF,wBAAkC,IAApBC,QAAoB,MAApBA,OAAoB,CAAXC,OAAW,MAAXA,OAAW,iCAChC,KAAKC,QAAL,CAAgBF,OAAhB,CACA,KAAKG,QAAL,CAAgBF,OAAhB,CACD,C,0DAED,8BAAqBG,GAArB,CAA0B,CACxB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CACD,MAAOC,QAAO,CAACC,MAAR,gPAAP,CACD,C,yBAED,oBAAY,gBACV,MAAOC,MAAK,CAAC,KAAKP,QAAN,CAAgB,CAC1BD,OAAO,CAAE,KAAKE,QADY,CAAhB,CAAL,CAEJO,IAFI,CAEC,SAACN,GAAD,QAAS,MAAI,CAACO,oBAAL,CAA0BP,GAA1B,CAAT,EAFD,CAAP,CAGD,C,yBAGH,GAAMQ,UAAS,CAAG,GAAIb,UAAJ,CAAc,CAC9BC,OAAO,CAAE,8CADqB,CAE9BC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFqB,CAAd,CAAlB,CAOA,cAAeW,UAAf"},"metadata":{},"sourceType":"module"}