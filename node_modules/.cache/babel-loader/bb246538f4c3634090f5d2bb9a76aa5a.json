{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u041C\\u0438\\u0445\\u0430\\u0438\\u043B/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var BASE_URL=\"https://api.diploma.mikhail.nomoredomains.sbs\";var HEADERS={\"Content-Type\":\"application/json\"};var getJson=function getJson(response){if(response.ok){return response.json();}throw new Error({status:response.status});};export var register=function register(nameRegister,emailRegister,passwordRegister){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:\"POST\",headers:HEADERS,body:JSON.stringify({name:nameRegister,email:emailRegister,password:passwordRegister})}).then(getJson);};export var authorization=function authorization(emailLogin,passwordLogin){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:\"POST\",headers:HEADERS,body:JSON.stringify({email:emailLogin,password:passwordLogin})}).then(getJson);};export var examinationValidationToken=function examinationValidationToken(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:\"GET\",headers:_objectSpread(_objectSpread({},HEADERS),{},{Authorization:\"Bearer \".concat(token)})}).then(getJson);};","map":{"version":3,"names":["BASE_URL","HEADERS","getJson","response","ok","json","Error","status","register","nameRegister","emailRegister","passwordRegister","fetch","method","headers","body","JSON","stringify","name","email","password","then","authorization","emailLogin","passwordLogin","examinationValidationToken","token","Authorization"],"sources":["C:/Users/Михаил/dev/movies-explorer-frontend/src/utils/auth.js"],"sourcesContent":["export const BASE_URL = \"https://api.diploma.mikhail.nomoredomains.sbs\";\r\n\r\nconst HEADERS = {\r\n  \"Content-Type\": \"application/json\",\r\n};\r\n\r\nconst getJson = (response) => {\r\n  if (response.ok) {\r\n    return response.json();\r\n  }\r\n  throw new Error({ status: response.status });\r\n};\r\n\r\nexport const register = (nameRegister, emailRegister, passwordRegister) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: HEADERS,\r\n    body: JSON.stringify({\r\n      name: nameRegister,\r\n      email: emailRegister,\r\n      password: passwordRegister,\r\n    }),\r\n  }).then(getJson);\r\n};\r\n\r\nexport const authorization = (emailLogin, passwordLogin) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: HEADERS,\r\n    body: JSON.stringify({ email: emailLogin, password: passwordLogin }),\r\n  }).then(getJson);\r\n};\r\n\r\nexport const examinationValidationToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      ...HEADERS,\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(getJson);\r\n};"],"mappings":"+JAAA,MAAO,IAAMA,SAAQ,CAAG,+CAAjB,CAEP,GAAMC,QAAO,CAAG,CACd,eAAgB,kBADF,CAAhB,CAIA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,QAAD,CAAc,CAC5B,GAAIA,QAAQ,CAACC,EAAb,CAAiB,CACf,MAAOD,SAAQ,CAACE,IAAT,EAAP,CACD,CACD,KAAM,IAAIC,MAAJ,CAAU,CAAEC,MAAM,CAAEJ,QAAQ,CAACI,MAAnB,CAAV,CAAN,CACD,CALD,CAOA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,YAAD,CAAeC,aAAf,CAA8BC,gBAA9B,CAAmD,CACzE,MAAOC,MAAK,WAAIZ,QAAJ,YAAuB,CACjCa,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAEb,OAFwB,CAGjCc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,IAAI,CAAET,YADa,CAEnBU,KAAK,CAAET,aAFY,CAGnBU,QAAQ,CAAET,gBAHS,CAAf,CAH2B,CAAvB,CAAL,CAQJU,IARI,CAQCnB,OARD,CAAP,CASD,CAVM,CAYP,MAAO,IAAMoB,cAAa,CAAG,QAAhBA,cAAgB,CAACC,UAAD,CAAaC,aAAb,CAA+B,CAC1D,MAAOZ,MAAK,WAAIZ,QAAJ,YAAuB,CACjCa,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAEb,OAFwB,CAGjCc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEE,KAAK,CAAEI,UAAT,CAAqBH,QAAQ,CAAEI,aAA/B,CAAf,CAH2B,CAAvB,CAAL,CAIJH,IAJI,CAICnB,OAJD,CAAP,CAKD,CANM,CAQP,MAAO,IAAMuB,2BAA0B,CAAG,QAA7BA,2BAA6B,CAACC,KAAD,CAAW,CACnD,MAAOd,MAAK,WAAIZ,QAAJ,cAAyB,CACnCa,MAAM,CAAE,KAD2B,CAEnCC,OAAO,gCACFb,OADE,MAEL0B,aAAa,kBAAYD,KAAZ,CAFR,EAF4B,CAAzB,CAAL,CAMJL,IANI,CAMCnB,OAND,CAAP,CAOD,CARM"},"metadata":{},"sourceType":"module"}